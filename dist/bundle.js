(()=>{"use strict";const e=document.querySelector(".hamburger"),t=document.querySelector(".main__cart"),n=document.querySelector(".btn-outline"),c=document.querySelector(".btn-primary"),r=document.querySelector(".main__button-panel"),s=document.querySelectorAll(".main__stepper-panel__container__step"),i=document.querySelectorAll(".form-part"),a=document.querySelector(".nav-container"),o=document.querySelector(".nav-wrapper__icons-wrapper--switch"),l=document.querySelector(".stage-2");let d=0;function u(){const e=document.querySelectorAll(".main__cart-container__items__product-info-wrapper--modifier--qty"),t=document.querySelectorAll(".main__cart-container__items__product-info-wrapper--price"),n=Number(document.querySelector(".main__cart-container__items__freight--total").innerText.replace(/[^0-9]+/g,"")),c=document.querySelector(".main__cart-container__items__subtotal--total"),r=[],s=[];let i=0;e.forEach((e=>r.push(Number(e.innerText)))),t.forEach((e=>s.push(Number(e.innerText.replace(/[^0-9]+/g,"")))));for(let e=0;e<r.length;e++)i+=r[e]*s[e];i+=n,c.innerText="$"+i.toString().replace(/\B(?<!\.\d*)(?=(\d{3})+(?!\d))/g,",")}e.addEventListener("click",(function(e){e.target.classList.contains("hamburger")&&e.target.classList.contains("hamburger")&&a.classList.toggle("d-none")})),t.addEventListener("click",(function(e){const t=e.target.previousElementSibling,n=e.target.nextElementSibling;e.target.classList.contains("btn")&&(e.target.classList.contains("btn-plus")&&(t.innerText=Number(t.innerText)+1),e.target.classList.contains("btn-minus")&&(n.innerText=Number(n.innerText)-1,Number(n.innerText)<0&&(n.innerText=0)),u())})),r.addEventListener("click",(function(e){e.preventDefault();const t=s[d];if(e.target.matches(".btn-primary")&&"下一步"===e.target.innerHTML){const e=s[d+1];t.classList.remove("active"),t.classList.remove("initial"),t.classList.add("checked"),e.classList.add("active"),i[d].classList.toggle("d-none"),i[d+1].classList.toggle("d-none"),d+=1}else if(e.target.matches(".btn-outline")){const e=s[d-1];e===s[0]?(t.classList.remove("active"),e.classList.remove("checked"),e.classList.add("initial")):(t.classList.remove("active"),e.classList.remove("checked"),e.classList.add("active")),i[d].classList.toggle("d-none"),i[d-1].classList.toggle("d-none"),d-=1}0===d?(n.classList.add("d-none"),c.classList.add("first-step")):(n.classList.remove("d-none"),c.classList.remove("first-step")),2===d?(c.innerHTML="確認下單",c.classList.add("last-step")):(c.innerHTML="下一步",c.classList.remove("last-step"))})),o.addEventListener("click",(function(){const t=document.querySelector("#body"),n=document.querySelector(".nav__logo__pic"),c=document.querySelector(".footer__logo__pic"),r=document.querySelector(".nav-wrapper__icons-wrapper--search"),s=document.querySelector(".nav-wrapper__icons-wrapper--cart"),i=document.querySelector(".nav-wrapper__icons-wrapper--switch");document.body.classList.toggle("dark-theme"),t.classList.contains("dark-theme")?(n.src="/public/logo-nightmode@2x.png",c.src="/public/logo-nightmode@2x.png",r.src="/public/search-nightmode@2x.png",s.src="/public/shopping-cart-nightmode@2x.png",i.src="/public/sun-icon@2x.png",e.src="/public/hamburger-nightmode@2x.png"):(n.src="/public/logo-daymode@2x%20(1).png",c.src="/public/logo-daymode@2x%20(1).png",r.src="/public/search-daymode.png",s.src="/public/shopping-cart-daymode@2x.png",i.src="/public/moon-icon@2x.png",e.src="/public/hamburger@2x.png")})),l.addEventListener("click",(function(e){const t=document.querySelector(".main__cart-container__items__freight--total");e.target.classList.contains("dhl")&&(t.innerText="500"),e.target.classList.contains("standard")&&(t.innerText="免費"),u()})),l.addEventListener("click",(function(e){const t=document.querySelector("#standard-delivery-wrapper"),n=document.querySelector("#dhl-delivery-wrapper");e.target.classList.contains("dhl")&&(t.classList.remove("checked"),n.classList.add("checked")),e.target.classList.contains("standard")&&(t.classList.add("checked"),n.classList.remove("checked"))}))})();